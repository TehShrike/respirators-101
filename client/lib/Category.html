<div class="category" data-open="{{open}}">
	<div class="clickable category-title">
		<a href="{{ item.path }}">{{item.title}}</a>
		<div class="chevron icon-angle-left" on:click="clicky( open )"></div>
	</div>
	<div class="expand">
		<slot></slot>
	</div>
</div>

<style>

.clickable {
	cursor: pointer; 
}

.expand.initialized {
	transition: height 0.2s ease-out;
	height: auto;
	overflow: hidden;
}

.category[data-open=false] .expand.initialized {
	height: 0 !important;
}

</style>

<script>

export default {
	data() {
		return {
			open: false
		}
	},
	oncreate() {
		this._state.registerExpand(this);
	},
	methods: {
		clicky(open) {
			this._state.closeAllExpands()
			this._set({open: !open})
		}
	}
}

</script>
